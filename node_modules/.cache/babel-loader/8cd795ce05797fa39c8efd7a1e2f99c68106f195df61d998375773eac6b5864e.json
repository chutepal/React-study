{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/Project/Git/React-study/src/components/axios/BasicLoginAndGet.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Basic() {\n  _s();\n  // const [obj, setObj] = useState({\n  //     \"userId\": 0,\n  //     \"firstName\": \"John\",\n  //     \"middleName\": \"A\",\n  //     \"lastName\": \"Demo\",\n  //     \"mobileNo\": \"1234567656\",\n  //     \"emailId\": \"accured@gmail.com\",\n  //     \"altMobileNo\": \"string\",\n  //     \"password\": \"password\",\n  //     \"userAddress\": {\n  //       \"city\": \"a\",\n  //       \"state\": \"c\",\n  //       \"pincode\": \"123456\",\n  //       \"addressLine\": \"string\"\n  //     },\n  //     \"userSocialDetails\": {\n  //       \"facebookProfileUrl\": \"string\",\n  //       \"linkdinProfileUrl\": \"string\",\n  //       \"instagramHandle\": \"string\",\n  //       \"twitterHandle\": \"string\"\n  //     }\n  //   });\n\n  const [username, setUsername] = useState('accured@gmail.com');\n  const [password, setPassword] = useState('password');\n  const [token, setToken] = useState('');\n  const [refreshToken, setRefreshToken] = useState('');\n  const setCookie = (name, val) => {\n    const date = new Date();\n    const value = val;\n\n    // Set it expire in 7 days\n    // date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));\n\n    // Set it\n    // document.cookie = name+\"=\"+value+\"; expires=\"+date.toUTCString()+\"; path=/\";\n    document.cookie = name + \"=\" + value + \";\";\n  };\n\n  // const registerUser = () => {\n  //     axios.post('CreateNewUser', obj)\n  //     .then(res => {\n  //         console.log('res=>', res)\n  //     })\n  // }\n\n  const loginUser = async e => {\n    e.preventDefault();\n    const credentials = {\n      'EmailId': 'accure@gmail.com',\n      'Password': 'password'\n    };\n    const {\n      data\n    } = await axios.post('login', credentials);\n    setRefreshToken(data.data.refreshToken);\n    setToken(data.data.token);\n\n    // set cookies\n    setCookie('refreshToken', data.data.refreshToken);\n    setCookie('emailId', username);\n    setCookie('token', token);\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  };\n  const getData = () => {\n    axios.get('GetAllUsers').then(res => {\n      console.log('GET response=>', res);\n    }).catch(err => console.log('GET err=>', err));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: username,\n      onChange: e => setUsername(e.target.value),\n      placeholder: \"User email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 120\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      placeholder: \"Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 122\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => loginUser(e),\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => getData(),\n      children: \"Get data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Basic, \"1hy2oWqV5Km0fMpQictkSCTui9A=\");\n_c = Basic;\nexport default Basic;\nvar _c;\n$RefreshReg$(_c, \"Basic\");","map":{"version":3,"names":["axios","React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Basic","_s","username","setUsername","password","setPassword","token","setToken","refreshToken","setRefreshToken","setCookie","name","val","date","Date","value","document","cookie","loginUser","e","preventDefault","credentials","data","post","defaults","headers","common","getData","get","then","res","console","log","catch","err","children","type","onChange","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/apple/Desktop/Project/Git/React-study/src/components/axios/BasicLoginAndGet.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\n\nfunction Basic() {\n\n    // const [obj, setObj] = useState({\n    //     \"userId\": 0,\n    //     \"firstName\": \"John\",\n    //     \"middleName\": \"A\",\n    //     \"lastName\": \"Demo\",\n    //     \"mobileNo\": \"1234567656\",\n    //     \"emailId\": \"accured@gmail.com\",\n    //     \"altMobileNo\": \"string\",\n    //     \"password\": \"password\",\n    //     \"userAddress\": {\n    //       \"city\": \"a\",\n    //       \"state\": \"c\",\n    //       \"pincode\": \"123456\",\n    //       \"addressLine\": \"string\"\n    //     },\n    //     \"userSocialDetails\": {\n    //       \"facebookProfileUrl\": \"string\",\n    //       \"linkdinProfileUrl\": \"string\",\n    //       \"instagramHandle\": \"string\",\n    //       \"twitterHandle\": \"string\"\n    //     }\n    //   });\n\n    const [username, setUsername] = useState('accured@gmail.com');\n    const [password, setPassword] = useState('password');\n    const [token, setToken] = useState('');\n    const [refreshToken, setRefreshToken] = useState('')\n\n    const setCookie = (name, val) => {\n        const date = new Date();\n        const value = val;\n\n        // Set it expire in 7 days\n        // date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000));\n\n        // Set it\n        // document.cookie = name+\"=\"+value+\"; expires=\"+date.toUTCString()+\"; path=/\";\n        document.cookie = name + \"=\" + value + \";\";\n    }\n\n    // const registerUser = () => {\n    //     axios.post('CreateNewUser', obj)\n    //     .then(res => {\n    //         console.log('res=>', res)\n    //     })\n    // }\n\n    const loginUser = async (e) => {\n        e.preventDefault();\n        const credentials = {\n            'EmailId': 'accure@gmail.com',\n            'Password': 'password'\n        };\n        const { data } = await axios.post('login', credentials)\n\n        setRefreshToken(data.data.refreshToken)\n        setToken(data.data.token)\n\n        // set cookies\n        setCookie('refreshToken', data.data.refreshToken)\n        setCookie('emailId', username)\n        setCookie('token', token)\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\n    }\n\n    const getData = () => {\n        axios.get('GetAllUsers')\n            .then(res => {\n                console.log('GET response=>', res)\n            })\n            .catch(err => console.log('GET err=>', err))\n    }\n\n    return (\n        <>\n            {/* <button onClick={() => registerUser()}>Create user</button> */}\n            <input type='text' value={username} onChange={e => setUsername(e.target.value)} placeholder='User email' /><br />\n            <input type='password' value={password} onChange={e => setPassword(e.target.value)} placeholder='Password' /><br />\n            <button onClick={(e) => loginUser(e)}>Login</button>\n            <br />\n            <br />\n            <button onClick={() => getData()}>Get data</button>\n        </>\n    )\n}\n\nexport default Basic\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}